{"version":3,"sources":["config/index.js","context/webSocketContext.js","api/request.js","api/api.js","components/Button/Button.js","components/DataDisplay/DataDisplay.js","containers/MainPanel/MainPanel.js","App.js","index.js"],"names":["config","API_URL","socket","io","webSocketContext","createContext","WebSocketProvider","props","useState","temperature","setTemperature","useContext","on","console","log","context","Provider","value","children","request","a","method","url","data","axios","result","status","post","api","get","patch","headers","resource","put","API","remove","SECRET_KEY","PUSH_AUTHORIZATION_KEY","Button","className","isActive","onClick","text","DataDisplay","MainPanel","currentTemperature","isEnabledLamp1","setModeLamp1","isEnabledLamp2","setModeLamp2","isEnabledLamp3","setModeLamp3","toggleLamp1","lamp1","statusText","toggleLamp2","lamp2","toggleLamp3","lamp3","getTemperature","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"mOAAaA,EAAS,CACpBC,QAAS,yB,QCILC,E,MAASC,KAETC,EAAmBC,0BAEnBC,EAAoB,SAACC,GAAW,IAAD,EAGGC,mBAAS,MAHZ,mBAG5BC,EAH4B,KAGfC,EAHe,KAKnCC,sBAAW,WACTT,EAAOU,GAAG,WAAW,SAACH,GACpBI,QAAQC,IAAI,wBAAyBL,GACrCC,EAAeD,SAMnB,IAAMM,EAAU,CAGdN,YAAaA,EACbC,eAAgBA,GAKlB,OAAO,kBAACN,EAAiBY,SAAlB,CAA2BC,MAAK,eAAOF,IAAYR,EAAMW,W,sDC7B5DC,EAAO,uCAAG,mCAAAC,EAAA,6DAASC,EAAT,EAASA,OAAQC,EAAjB,EAAiBA,IAAKC,EAAtB,EAAsBA,KAAtB,kBAESC,IAAM,CAACH,OAAQA,EAAQC,IAAKA,EAAKC,KAAMA,IAFhD,cAENE,EAFM,OAIZZ,QAAQC,IAAI,cAAeW,EAAOC,QAClCb,QAAQC,IAAI,qBAAsBW,EAAOF,MAL7B,kBAOLE,GAPK,yCAUZZ,QAAQC,IAAI,UAAZ,MAVY,kBAWL,MAXK,0DAAH,sDCAPa,EAAI,uCAAG,+BAAAP,EAAA,6DAASE,EAAT,EAASA,IAAKC,EAAd,EAAcA,KAAd,SACEK,EAAY,CACvBP,OAAQ,OACRC,IAAKA,EACLC,KAAMA,IAJG,mFAAH,sDAQJM,EAAG,uCAAG,6BAAAT,EAAA,6DAASE,EAAT,EAASA,IAAT,SACGM,EAAY,CACvBP,OAAQ,MACRC,IAAKA,IAHG,mFAAH,sDAOHQ,EAAK,uCAAG,mCAAAV,EAAA,6DAASE,EAAT,EAASA,IAAKC,EAAd,EAAcA,KAAd,IAAoBQ,eAApB,MAA8B,GAA9B,WACCH,EAAY,CACvBP,OAAQ,QACRW,SAAUV,EACVC,KAAMA,EACNQ,QAASA,IALC,mFAAH,sDASLE,EAAG,uCAAG,+BAAAb,EAAA,6DAASE,EAAT,EAASA,IAAKC,EAAd,EAAcA,KAAd,SACGK,EAAY,CACvBP,OAAQ,MACRC,IAAKA,EACLC,KAAMA,IAJE,mFAAH,sDAiBIW,EAAM,CACjBP,OACAG,QACAD,MACAM,OAZU,uCAAG,iCAAAf,EAAA,6DAASE,EAAT,EAASA,IAAT,IAAaS,eAAb,MAAuB,GAAvB,WACAH,EAAY,CACvBP,OAAQ,SACRW,SAAUV,EACVS,QAASA,IAJE,mFAAH,sDAaVE,MACAG,WAAYpC,EAAOoC,WACnBC,uBAAwBrC,EAAOqC,wBCxClBC,G,OARA,SAAC/B,GAEd,OACE,yBAAMgC,UAAS,cAAShC,EAAMiC,SAAW,SAAW,IAAMC,QAASlC,EAAMkC,SACtElC,EAAMmC,QCIEC,G,OARK,SAACpC,GAEnB,OACE,yBAAMgC,UAAW,eAAeE,QAASlC,EAAMkC,SAC5ClC,EAAME,YADT,YCuEWmC,G,OAtEG,WAEhB,IACMC,EADgBlC,qBAAWP,GACQK,YAHnB,EAKiBD,oBAAS,GAL1B,mBAKfsC,EALe,KAKCC,EALD,OAMiBvC,oBAAS,GAN1B,mBAMfwC,EANe,KAMCC,EAND,OAOiBzC,oBAAS,GAP1B,mBAOf0C,EAPe,KAOCC,EAPD,KAShBC,EAAW,uCAAG,4BAAAhC,EAAA,6DAClB2B,GAAcD,GADI,SAEGZ,EAAID,IAAI,CAAEX,IAAK,WAAYC,KAAM,CAAC8B,OAAQP,KAF7C,QAEZrB,EAFY,SAIhBZ,QAAQC,IAAI,WAAYW,EAAOC,QAC/Bb,QAAQC,IAAI,eAAgBW,EAAO6B,YACnCzC,QAAQC,IAAI,UAAWgC,IAEvBjC,QAAQC,IAAI,iBARI,2CAAH,qDAYXyC,EAAW,uCAAG,4BAAAnC,EAAA,6DAClB6B,GAAcD,GADI,SAEGd,EAAID,IAAI,CAAEX,IAAK,WAAYC,KAAM,CAACiC,OAAQR,KAF7C,QAEZvB,EAFY,SAIhBZ,QAAQC,IAAI,WAAYW,EAAOC,QAC/Bb,QAAQC,IAAI,eAAgBW,EAAO6B,YACnCzC,QAAQC,IAAI,UAAWkC,IAEvBnC,QAAQC,IAAI,iBARI,2CAAH,qDAYX2C,EAAW,uCAAG,4BAAArC,EAAA,6DAClB+B,GAAcD,GADI,SAEGhB,EAAID,IAAI,CAAEX,IAAK,WAAYC,KAAM,CAACmC,OAAQR,KAF7C,QAEZzB,EAFY,SAIhBZ,QAAQC,IAAI,WAAYW,EAAOC,QAC/Bb,QAAQC,IAAI,eAAgBW,EAAO6B,YACnCzC,QAAQC,IAAI,UAAWoC,IAEvBrC,QAAQC,IAAI,iBARI,2CAAH,qDAYX6C,EAAc,uCAAG,4BAAAvC,EAAA,sEACAc,EAAIL,IAAI,CAAEP,IAAK,YADf,QACfG,EADe,SAGnBZ,QAAQC,IAAI,WAAYW,EAAOC,QAC/Bb,QAAQC,IAAI,eAAgBW,EAAO6B,YACnCzC,QAAQC,IAAI,UAAWW,IAEvBZ,QAAQC,IAAI,iBAPO,2CAAH,qDAWpB,OACE,yBAAKyB,UAAU,QACb,wBAAIA,UAAU,cAAd,iBACA,wBAAIA,UAAU,gBACZ,wBAAIA,UAAU,qBAAoB,kBAAC,EAAD,CAAQG,KAAK,MAAMD,QAASW,EAAaZ,SAAUM,KACrF,wBAAIP,UAAU,qBAAoB,kBAAC,EAAD,CAAQG,KAAK,MAAMD,QAASc,EAAaf,SAAUQ,KACrF,wBAAIT,UAAU,qBAAoB,kBAAC,EAAD,CAAQG,KAAK,MAAMD,QAASgB,EAAajB,SAAUU,KACrF,wBAAIX,UAAU,qBAAoB,kBAAC,EAAD,CAAa9B,YAAaoC,KAC5D,wBAAIN,UAAU,qBAAoB,kBAAC,EAAD,CAAQG,KAAK,kBAAkBD,QAASkB,SCvDnEC,EAVH,WACV,OACE,yBAAKrB,UAAU,OACb,kBAAC,EAAD,KACE,kBAAC,EAAD,SCNRsB,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.49d20344.chunk.js","sourcesContent":["export const config = {\n  API_URL: 'http://192.168.31.193',\n  // SECRET_KEY: '',\n  // PUSH_AUTHORIZATION_KEY: '',\n}\n","import React, { createContext, useState, useEffect, useContext } from 'react'\r\nimport { API_URL } from '../config'\r\nimport io from 'socket.io-client'\r\n\r\n// const socket = io(API_URL)\r\nconst socket = io()\r\n\r\nconst webSocketContext = createContext()\r\n\r\nconst WebSocketProvider = (props) => {\r\n  \r\n\r\n  const [temperature, setTemperature] = useState(null)\r\n\r\n  useContext(() => {\r\n    socket.on('message', (temperature) => {\r\n      console.log('Message from server: ', temperature)\r\n      setTemperature(temperature)\r\n    })\r\n  })\r\n\r\n  // const [error, setError] = useState(null)\r\n\r\n  const context = {\r\n    //error: error,\r\n    //setError: setError,\r\n    temperature: temperature,\r\n    setTemperature: setTemperature,\r\n\r\n    //getTemperature: _getTemperature,\r\n  }\r\n\r\n  return <webSocketContext.Provider value={{ ...context }}>{props.children}</webSocketContext.Provider>\r\n}\r\n\r\nexport { webSocketContext, WebSocketProvider }","import axios from 'axios'\n// import { config } from '../config'\n\nconst request = async ({ method, url, data }) => {\n  try {\n    const result = await axios({method: method, url: url, data: data});\n\n    console.log('HTTP status', result.status)\n    console.log('HTTP response data', result.data)\n\n    return result;\n  \n  } catch (e) {\n    console.log('request', e)\n    return null\n  }\n}\n\nexport {\n  request,\n}\n","import { config } from '../config'\nimport * as api from './request'\n\nconst post = async ({ url, data }) => {\n  return await api.request({\n    method: 'POST',\n    url: url,\n    data: data,\n  })\n}\n\nconst get = async ({ url }) => {\n  return await api.request({\n    method: 'GET',\n    url: url,\n  })\n}\n\nconst patch = async ({ url, data, headers = [] }) => {\n  return await api.request({\n    method: 'PATCH',\n    resource: url,\n    data: data,\n    headers: headers,\n  })\n}\n\nconst put = async ({ url, data }) => {\n  return await api.request({\n    method: 'PUT',\n    url: url,\n    data: data,\n    // headers: headers,\n  })\n}\n\nconst remove = async ({ url,headers = [] }) => {\n  return await api.request({\n    method: 'DELETE',\n    resource: url,\n    headers: headers,\n  })\n}\n\nexport const API = {\n  post,\n  patch,\n  get,\n  remove,\n  put,\n  SECRET_KEY: config.SECRET_KEY,\n  PUSH_AUTHORIZATION_KEY: config.PUSH_AUTHORIZATION_KEY,\n}\n","import React from 'react'\r\nimport './button.scss'\r\n \r\nconst Button = (props) => {\r\n\r\n  return(\r\n    <div  className={`btn ${props.isActive ? 'active' : ''}`} onClick={props.onClick}>\r\n      {props.text}\r\n    </div>\r\n  )\r\n}\r\nexport default Button","import React from 'react'\r\nimport './dataDisplay.scss'\r\n \r\nconst DataDisplay = (props) => {\r\n\r\n  return(\r\n    <div  className= \"data-display\" onClick={props.onClick}>\r\n      {props.temperature} &deg;C\r\n    </div>\r\n  )\r\n}\r\nexport default DataDisplay","import React, { useState, useContext } from 'react'\r\nimport { API } from '../../api/api'\r\nimport { webSocketContext } from '../../context/webSocketContext'\r\nimport Button from '../../components/Button/Button'\r\nimport DataDisplay from '../../components/DataDisplay/DataDisplay'\r\nimport './mainPanel.scss'\r\n\r\nconst MainPanel = () => {\r\n\r\n  const socketContext = useContext(webSocketContext)\r\n  const currentTemperature = socketContext.temperature\r\n\r\n  const [isEnabledLamp1, setModeLamp1] = useState(false)\r\n  const [isEnabledLamp2, setModeLamp2] = useState(false)\r\n  const [isEnabledLamp3, setModeLamp3] = useState(false)\r\n\r\n  const toggleLamp1 = async () => {\r\n    setModeLamp1(!isEnabledLamp1);\r\n    const result = await API.put({ url: '/lamps/1', data: {lamp1: !isEnabledLamp1}});\r\n    if(result) {\r\n      console.log('status: ', result.status);\r\n      console.log('statusText: ', result.statusText);\r\n      console.log('data: ', !isEnabledLamp1);\r\n    } else {\r\n      console.log('Error request')\r\n    }   \r\n  }\r\n\r\n  const toggleLamp2 = async () => {\r\n    setModeLamp2(!isEnabledLamp2);\r\n    const result = await API.put({ url: '/lamps/2', data: {lamp2: !isEnabledLamp2}});\r\n    if(result) {\r\n      console.log('status: ', result.status);\r\n      console.log('statusText: ', result.statusText);\r\n      console.log('data: ', !isEnabledLamp2);\r\n    } else {\r\n      console.log('Error request')\r\n    }\r\n  }\r\n\r\n  const toggleLamp3 = async () => {\r\n    setModeLamp3(!isEnabledLamp3);\r\n    const result = await API.put({ url: '/lamps/3', data: {lamp3: !isEnabledLamp3}});\r\n    if(result) {\r\n      console.log('status: ', result.status);\r\n      console.log('statusText: ', result.statusText);\r\n      console.log('data: ', !isEnabledLamp3);\r\n    } else {\r\n      console.log('Error request')\r\n    }\r\n  }\r\n\r\n  const getTemperature = async () => {\r\n    const result = await API.get({ url: '/params' });\r\n    if(result) {\r\n      console.log('status: ', result.status);\r\n      console.log('statusText: ', result.statusText);\r\n      console.log('data : ', result);\r\n    } else {\r\n      console.log('Error request')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"main\">\r\n      <h1 className=\"main-title\">Control panel</h1>\r\n      <ul className=\"main-content\">\r\n        <li className=\"main-content-item\"><Button text=\"# 1\" onClick={toggleLamp1} isActive={isEnabledLamp1} /></li>\r\n        <li className=\"main-content-item\"><Button text=\"# 2\" onClick={toggleLamp2} isActive={isEnabledLamp2}/></li>\r\n        <li className=\"main-content-item\"><Button text=\"# 3\" onClick={toggleLamp3} isActive={isEnabledLamp3}/></li>\r\n        <li className=\"main-content-item\"><DataDisplay temperature={currentTemperature}/></li>       \r\n        <li className=\"main-content-item\"><Button text=\"Get temperature\" onClick={getTemperature}/></li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MainPanel","import React from 'react'\nimport { WebSocketProvider } from './context/webSocketContext'\nimport './reset.scss'\nimport './app.scss'\nimport MainPanel from './containers/MainPanel/MainPanel'\n\nconst App = () => {\n  return (\n    <div className=\"app\">\n      <WebSocketProvider>\n        <MainPanel />\n      </WebSocketProvider>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}